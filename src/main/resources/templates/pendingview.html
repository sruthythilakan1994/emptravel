<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="#{view.index.title}">Welcome!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" th:href="@{/css/core.css}" />
    
</head>
<body>
<div th:replace="fragments/header :: header">&nbsp;</div>



	<div class="container">
		<div class="row">
			<div class="col-md-6 col-md-offset-3">

				<form autocomplete="off" action="#" th:action="@{/pendingaction}"
					th:object="${app}" method="post" class="form-horizontal"
					role="form">


<input type="hidden" th:field="*{id}" placeholder="Job Title"
								class="form-control" /> 
					<h2>Approve/Reject Application</h2>
					<br />
					<br />


					


					


					




					<div class="form-group">
						<div class="col-sm-9">
							<label class="validation-message">Status</label> <select
								class="form-control" aria-describedby="status-addon" id="status"
								name="status" th:field="*{status}">
								<option th:value="APPROVED" th:text="Approve"></option>
								<option th:value="REJECTED" th:text="Reject"></option>
							</select>
						</div>
					</div>


					<div class="form-group">
						<div class="col-sm-9">
							<label class="validation-message">Message</label> : <input
								type="text" th:field="*{message}" placeholder="Message"
								class="form-control" /> <label
								th:if="${#fields.hasErrors('message')}" th:errors="*{message}"
								class="validation-message"></label>
						</div>
					</div>


					<div class="form-group">
						<div class="col-sm-9">
							<button type="submit" class="btn btn-primary btn-block">SUBMIT</button>
						</div>
					</div>

					<span th:utext="${successMessage}"></span> <br />
					<br />
					<br />
					<br />

				</form>
			</div>
		</div>
		
		
		<div class="panel-group">
						<div class="panel panel-primary">
							<div class="panel-heading">
								<span>Applicant Info</span>
							</div>
							<div class="panel-body">

								<div class="panel-body">
									<h5>User Details</h5>
									<table class="table table-hover">

										<tr>
											<th> Id</th>
											<th> Name</th>
											<th> Email</th>
										    <th> Qualification</th>
										    <th> Designation</th>
										    <th> Join Date</th>
										    <th> Exp (Year)</th>
										    <th> Skillset</th>
											<!-- <th>User skill</th> -->

											<th></th>

										</tr>

										<tr th:each="app : ${app}">
											<td th:text="${app.user.id}">Id</td>
											<td th:text="${app.user.name}">Name</td>
											<td th:text="${app.user.Email}">Email</td>
											<td th:text="${app.user.qualification}">Qualification</td>
											<td th:text="${app.user.designation}">Designation</td>
											<td th:text="${#dates.format(app.user.joinDate, 'dd-MMM-yyyy')}" >Designation</td>
											<td th:text="${app.user.expYears}">Designation</td>
											
											
											<td>	
												<table class="table table-hover">
													<tr th:each="skills : ${app.user.skills}">
														<td th:text="${skills.skill.name}">skill name</td>
														<td th:text="${skills.skillExperience}">skill experience</td>

													</tr>
												</table>
											</td>
					
									</table>
									
								</div>
							</div>
						</div>
					</div>
		
		
		
		
		<div class="panel-group">
						<div class="panel panel-primary">
							<div class="panel-heading">
								<span>Job Info</span>
							</div>
							<div class="panel-body">

								<div class="panel-body">
									<h5>Job Details</h5>
									<table class="table table-hover">

										<tr>
											<th> Id</th>
											<th> Title</th>
											<th> Description</th>
											<th> Designation</th>
											<th> Duration</th>
											<th> Min Exp</th>
											<th> Max Exp</th>
											 <th> skill</th>

											<th></th>

										</tr>

										<tr th:each="app : ${app}">
											<td th:text="${app.id}">Id</td>
											<td th:text="${app.job.title}">Title</td>
											<td th:text="${app.job.description}">Description</td>
											<td th:text="${app.job.designation}">Designation</td>
											<td th:text="${app.job.duration}">Duration</td>
											<td th:text="${app.job.minExp}">Location</td>
											<td th:text="${app.job.maxExp}">Location</td>
											
											
											
											
											<td>	
												<table class="table table-hover">
													<tr th:each="skills : ${app.job.skill}">
														<td th:text="${skills.skill.name}">skill name</td>
														<td th:text="${skills.skillExperience}">skill experience</td>

													</tr>
												</table>
											</td>
											


										</tr>


									</table>
								</div>
							</div>
						</div>
					</div>
		
		
	</div>

	<hr>
	<div th:replace="fragments/footer :: footer">&nbsp;</div>

</body>
</html>

